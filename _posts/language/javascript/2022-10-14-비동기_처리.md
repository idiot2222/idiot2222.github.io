---
title: 비동기 처리
date: 2022-10-14 12:00:00 +0900
categories: [Language, Javascript]
tags: [javascript, async, await, callback]
---

<br/>
<br/>
<br/>
<br/>

# Javascript의 비동기 처리

- 자바스크립트는 특정 코드를 비동기 처리한다.
  - 어떤 코드의 연산이 끝날 때까지 기다리지 않고,
  - 다음 코드를 먼저 실행해버린다.
  - 파일 처리나 데이터 페칭 등이 있다.
- 브라우저 위에서 돌아간다는 자바스크립트의 특징 때문에 오래 걸리는 작업을 기다려줄 수 없다.
  - 서버의 요청을 받아 화면에 띄워주는 역할을 하기 때문에
  - 하나하나 다 기다려줄 수는 없다.
  - 받아오면 그때 띄우고를 반복해 빠르게 화면을 구성하는 것이다.

<br/>

```java
sendMessage = () => {
  console.log('팀장님 인생');

  setTimeout(() => {
    console.log('최고라던 그 가게');
  }, 3000);

  console.log('망했어요.');
};

sendMessage();
```

- 자바스크립트가 비동기라는걸 모르는 나같은 사람들은
  - 팀장님 인생
  - (약 3초 뒤)
  - 최고라던 그 가게
  - 망했어요.
  - 이 순서를 생각할 것이다.
- 그러나 setTimeout이 3초를 기다리는 동안 훅 지나가 뒤에 코드를 먼저 실행한다.
  - 팀장님 인생
  - 망했어요.
  - (약 3초 뒤)
  - 최고라던 그 가게

<br/>
<br/>
<br/>
<br/>


# 콜백 함수

- 위의 비동기를 잡을 수 있는 방법으로 콜백 함수가 있다.
- 콜백 함수란,
  - 특정 메서드가 끝나면 실행시켜주세요 하는 함수이다.

<br/>

```java
sendMessage = (end) => {
  console.log('팀장님 인생');

  setTimeout(() => {
    console.log('최고라던 그 가게');
    end();
  }, 3000);

};

sendMessage(() => {
    console.log('망했어요.')
});
```

- sendMessage를 호출할 때 마지막 메시지를 띄우는 콜백 함수를 넘겨준다.
- sendMessage 내부에서 콜백 함수를 호출해서 예상되는 결과를 얻을 수 있었다.
  - 팀장님 인생
  - (약 3초 뒤)
  - 최고라던 그 가게
  - 망했어요.
- 그러나 프로그램을 짜다보면 코드는 점점 더 복잡해질 수 밖에 없고,
- 비동기 처리가 겹겹으로 필요한 경우가 생긴다.
- 그때마다 콜백 함수를 처리해주면 indent가 자꾸 늘어나고
- 코드가 복잡해지게 된다. 이것을 콜백 지옥이라고 하더라.

<br/>
<br/>
<br/>
<br/>




<br/>
<br/>
<br/>
<br/>
