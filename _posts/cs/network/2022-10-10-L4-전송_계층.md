---
title: L4 전송 계층
date: 2022-10-10 17:40:00 +0900
categories: [CS, Network]
tags: [cs, network, l3, transport_layer]
---


<br/>
<br/>
<br/>
<br/>

# 전송 계층

- 송신자의 프로세스와 수신자의 프로세스 간의 연결을 제공한다.
- 이전까지의 네트워크 환경은 기본적으로 비신뢰성 환경이다.
  - 데이터가 전송 중에 유실되거나 손상될 수도 있다.
- 신뢰성 있는 전송을 할 수 있게 해주는 것이 전송 계층이다.
- 연결지향과 신뢰성, 정확성의 TCP와
- 비연결지향과 효율성의 UDP가 있다.


<br/>
<br/>

# 포트

- 특정 프로세스를 나타내는 주소이다.
- 하나의 포트는 하나의 프로세스만이 사용이 가능하다.
- 반대로 하나의 프로세스가 여러개의 포트를 사용할 수는 있다.
- 0 ~ 65535의 범위를 가질 수 있다.
- 포트 번호는 세 가지로 나눌 수 있다.
  - 0 ~ 1023 : well-known port
  - 1024 ~ 49151 : registered port
  - 49152 ~ 65535 : dynamic port

<br/>

- well-known port
  - 0 ~ 1023
  - 특정한 애플리케이션을 위해서 정해진 포트 번호이다.
  - 강제적인 것이 아니다.

|well-known port|
|---|------|
|FTP|20, 21|
|SSH|22|
|TELNET|23|
|DNS|53|
|DHCP|67, 68|
|TFTP|69|
|HTTP|80|
|HTTPS|443|


- registered port
  - 1024 ~ 49151
  - 특정 서비스로 인해 등록된 포트 번호이다.
  - 역시 강제적인 것은 아니다.

|registered port|
|---|------|
|MySQL|3306|
|HTTP 대체|8080|

- dynamic port
  - 49152 ~ 65535
  - 어느 프로그램에서나 사용할 수 있는 포트 번호이다.


<br/>
<br/>

> 만약 내 크롬과 네이버가 통신을 한다고 하면,
> - 네이버 서버는 80포트를 사용하고, 내 크롬은 60000 포트를 사용한다.
>   - 크롬으로 네이버 스포츠를 띄우면 (네이버 ip의 80포트로 스포츠 요청을 보내면)
>   - 네이버는 내 ip의 60000번 포트로 스포츠 응답을 보낸다.
>   - 내 60000번 크롬에 네이버 스포츠 화면이 뜬다.
> - 내가 크롬을 하나 더 띄웠다고 할 때 걔는 50000번 포트를 사용한다.
>   - 50000번 크롬으로 네이버 뉴스를 띄우면 (네이버 ip의 80포트로 뉴스 요청을 보내면)
>   - 네이버는 내 ip의 50000번 포트로 뉴스 응답을 보낸다.
>   - 50000번 크롬은 네이버 뉴스를 띄운다.
> - 나는 크롬을 두 개 띄워놨지만, 걔네는 서로 다른 화면을 보여주고 있다.
>   - 50000번 크롬이 네이버에게 요청을 보냈을 때, 60000번 크롬에게는 아무 영향도 없었다.
>   - 같은 크롬을 두 개 띄웠음에도 서로 영향을 주지 않고 정확한 결과를 보여줬다.
>   - 네이버의 응답이 포트 번호를 보고 잘 찾아갔기 때문이다.



<br/>
<br/>

# 세그먼트

<br/>

![img-description](assets/img/posting/network/segment.png)
_세그먼트_

<br/>

- L4의 PDU이다.
- TCP는 복잡하고 길고
- UDP는 단순한 모양을 갖는다.
- 얘네 모양은 뒤에 각각의 차례에 살펴본다.

<br/>
<br/>




<br/>
<br/>
<br/>
<br/>
