<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="인덱스" /><meta property="og:locale" content="en" /><meta name="description" content="Bogeun’s blog for studying development. c java spring jpa computer science architecture network database operating system" /><meta property="og:description" content="Bogeun’s blog for studying development. c java spring jpa computer science architecture network database operating system" /><link rel="canonical" href="https://idiot2222.github.io/posts/%EC%9D%B8%EB%8D%B1%EC%8A%A4/" /><meta property="og:url" content="https://idiot2222.github.io/posts/%EC%9D%B8%EB%8D%B1%EC%8A%A4/" /><meta property="og:site_name" content="Bogeun" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-11-28T11:50:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="인덱스" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-11-29T11:58:42+09:00","datePublished":"2022-11-28T11:50:00+09:00","description":"Bogeun’s blog for studying development. c java spring jpa computer science architecture network database operating system","headline":"인덱스","mainEntityOfPage":{"@type":"WebPage","@id":"https://idiot2222.github.io/posts/%EC%9D%B8%EB%8D%B1%EC%8A%A4/"},"url":"https://idiot2222.github.io/posts/%EC%9D%B8%EB%8D%B1%EC%8A%A4/"}</script><title>인덱스 | Bogeun</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Bogeun"><meta name="application-name" content="Bogeun"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/main/stadium.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Bogeun</a></div><div class="site-subtitle font-italic">보근의 공부 블로그</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/books/" class="nav-link"> <i class="fa-fw fas fa-book ml-xl-3 mr-xl-3 unloaded"></i> <span>BOOKS</span> </a><li class="nav-item"> <a href="/lectures/" class="nav-link"> <i class="fa-fw fas fa-university ml-xl-3 mr-xl-3 unloaded"></i> <span>LECTURES</span> </a><li class="nav-item"> <a href="/study/" class="nav-link"> <i class="fa-fw far fa-school fa-fw ml-xl-3 mr-xl-3 unloaded"></i> <span>STUDY</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/idiot2222" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['pky2892','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>인덱스</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>인덱스</h1><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1685731179796135" crossorigin="anonymous"></script><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1669603800" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Nov 28, 2022 </em> </span> <span> Updated <em class="" data-ts="1669690722" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Nov 29, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/username">idiot2222</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2933 words"> <em>16 min</em> read</span></div></div></div><div class="post-content"><p><br /> <br /> <br /> <br /></p><h3 id="참고"><span class="mr-2">참고</span><a href="#참고" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li><a href="https://www.youtube.com/watch?v=IMDH4iAQ6zM">쉬운코드 - 유튜브</a></ul><p><br /> <br /></p><h1 id="index란">Index란</h1><ul><li>테이블의 작업을 빠르게 할 수 있도록 도와주는 자료 구조이다.<li>조회나 조건이 붙는 작업을 빠르게 수행할 수 있다.<ul><li>select나 update, delete 뒤에 where 조건이 붙는 경우<li>order by, group by 등</ul><li>만약 100만 개의 튜플이 있는 테이블에서 이름이 ‘보근’인 사람을 찾는다고 할 때,<ul><li>index가 없는 경우에는 100만 개를 full-scan을 한다.<ul><li>말 그대로 100만 개의 튜플을 다 찾아보면서 너 보근이니? 라고 물어보고 다닌다.<li>O(N)</ul><li>B-tree index를 만든 경우에는 이분 탐색을 해서 시간이 덜 든다.<ul><li>중간 값을 고르고 ‘보근’과 비교해서 up, down을 골라서 절반을 날리기를 반복한다.<li>O(log N)</ul></ul></ul><p><br /> <br /></p><h1 id="index-만들기">Index 만들기</h1><ul><li>Book 테이블을 예시로 사용한다.<ul><li>ID (PK)<li>TITLE<li>FLOOR<li>BOOK_CODE (UNIQUE)</ul><li>예시는 전부 mysql 기준으로 작성한다.</ul><p><br /></p><pre><code class="language-mysql">
CREATE INDEX TITLE_INDEX ON BOOK(title);
CREATE UNIQUE INDEX BOOK_CODE_INDEX ON BOOK(book_code);

</code></pre><p><br /></p><ul><li>CREATE INDEX [인덱스 이름] ON 테이블(애트리뷰트…);<ul><li>이런 식으로 만들어줄 수 있다.</ul><li>CREATE UNIQUE INDEX [인덱스 이름] ON 테이블(애트리뷰트…);<ul><li>유니크 인덱스는 이렇게 만든다.</ul><li>유니크 인덱스는 인덱스의 로우값에 중복을 허용하지 않는 인덱스이다.<li>UNIQUE 제약 조건이 걸려있거나 PK인 경우, 또 그냥 유니크한 값들만을 갖고 있는 컬럼에만 만들 수 있다.<ul><li>만약 현재는 유니크한 값들만 들어갔지만, 미래에도 보장이 되지 않는다면 얘로 만들지 않는 것이 좋다.<li>유니크 인덱스가 만들어진 상태에서 유니크가 깨지는 값이 들어오면 에러가 뜬다.</ul><li>멀티 컬럼 인덱스의 경우 두 값의 합으로 유니크를 따진다.<ul><li>floor가 2이고 title이 ‘바보의 꿈’인 책과<li>floor가 2이지만 title이 ‘바보바보’인 책은<li>floor 값이 같지만 전체적으로 봤을 땐 title 값이 다르기 때문에 유니크하다고 본다.</ul></ul><p><br /> <br /></p><pre><code class="language-mysql">
CREATE TABLE BOOK (
    id INT PRIMARY KEY,
    title VARCHAR(20) NOT NULL,
    floor INT,
    book_code INT UNIQUE,
    INDEX TITLE_INDEX (title),
    UNIQUE INDEX FLOOR_BOOK_CODE_INDEX (floor, book_code)
);

</code></pre><ul><li>테이블 정의 시에도 인덱스를 만들어줄 수가 있다.<li>대부분의 RDBMS는 PK의 인덱스를 자동으로 생성해준다.</ul><p><br /></p><h2 id="인덱스-정보-조회"><span class="mr-2">인덱스 정보 조회</span><a href="#인덱스-정보-조회" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><pre><code class="language-mysql">
SHOW INDEX FROM BOOK;

</code></pre><ul><li>테이블에 만들어진 인덱스를 조회하는 명령어이다.</ul><p><img data-src="/assets/img/posting/db/index-01.png" alt="img-description" data-proofer-ignore> <em>인덱스 조회 결과</em></p><ul><li>3번째와 4번째 로우를 보면 똑같은 key_name에 seq_in_index가 각각 1과 2인 것을 볼 수 있다.<li>Multi Column Index의 경우 해당하는 컬럼의 하나하나 다 보여준다.</ul><p><br /> <br /> <br /> <br /></p><h1 id="b-tree-index의-동작-방식">B-tree Index의 동작 방식</h1><p><img data-src="/assets/img/posting/db/index-02.gif" alt="img-description" data-proofer-ignore> <em>INDEX(floor)를 사용한 floor 조건 조회</em></p><p><br /></p><ul><li>좌측은 Book 테이블, 우측은 floor 컬럼에 대한 인덱스이다.<li>인덱스는 테이블의 floor 컬럼과 ptr 컬럼만을 갖고 있다.<ul><li>ptr 컬럼은 실제 테이블의 튜플에 대한 pointer이다.</ul><li>인덱스는 테이블과 다르게 floor 컬럼에 대해 정렬이 된 것을 볼 수 있다.<ul><li>이분 탐색을 하기 위함이다.</ul></ul><ol><li>2층에 위치한 책을 모두 찾기 위한 쿼리를 날렸다고 한다.<ul><li>빠른 조회를 위해 floor에 대한 인덱스를 사용한다.</ul><li>floor 인덱스의 중간값을 확인한다.<li>우리가 찾는 값인 2보다 크기 때문에 위로는 모두 찾아볼 필요가 없다.<li>이 과정을 반복한다.<li>결국 우리가 찾는 값인 2를 찾아낸다.<li>바로 위와 바로 아래의 값을 확인해본다.<ul><li>같은 값이 여러 개 있을 수도 있기 때문에 확인한다.<li>만약 같은 값이 있다면 그 값의 다음 값도 또 같은면 그 다음 값도 주주죽 확인한다.<li>같은 값이 없다면 검색을 종료한다.</ul></ol><p><br /> <br /></p><ul><li>그럼 만약에 조건이 추가가 된다면?</ul><p><img data-src="/assets/img/posting/db/index-03.gif" alt="img-description" data-proofer-ignore> <em>INDEX(floor)를 사용한 floor AND title 조건 조회</em></p><ol><li>floor가 6이고 title이 ‘lll’인 책을 찾는다고 한다.<ul><li>floor에 대한 인덱스를 사용한다.</ul><li>먼저 floor가 6인 애를 먼저 이분 탐색으로 찾는다.<ul><li>11번째 로우가 6인 것을 발견했다.</ul><li>11번째 로우의 포인터를 사용해 해당 튜플의 title에 ‘lll’인지 확인한다.<li>다른 floor가 6인 로우가 있는지 아래부터 확인해본다.<ul><li>floor가 6이기 때문에 해당된다.</ul><li>로우의 포인터를 사용해 해당 튜플의 title을 확인해본다.<ul><li>‘lll’이 아니기 때문에 조건에 해당되지 않는다.</ul><li>12번째 로우 다음은 없기 때문에 이번엔 위의 값들을 검사한다.<ul><li>10번째 로우는 floor가 5이기 때문에 해당되지 않아 검색을 종료한다.</ul></ol><p><br /></p><ul><li>floor에 대한 인덱스를 사용했기 때문에 floor를 찾는 검색은 확실히 빠르다.<li>하지만 뒤에 붙는 다른 조건에 대해서는 인덱스를 효과와 상관 없이 하나씩 찾아봐야 한다.<ul><li>만약 위의 예시에서 총 데이터가 100만개 있었고, 그 중에서 floor가 6인 애가 99만개 였다면<li>floor가 6인 99만개의 데이터를 full-scan 했을 것이다.<li>그렇다면 인덱스의 효과를 거의 누리지 못한 것이다.</ul></ul><p><br /> <br /></p><ul><li>위와 같은 상황에서 필요한 적절한 인덱스는 floor와 title에 대한 인덱스이다.</ul><p><img data-src="/assets/img/posting/db/index-04.gif" alt="img-description" data-proofer-ignore> <em>INDEX(floor, title)를 사용한 floor AND title 조건 조회</em></p><ol><li>floor가 5이고 title이 ‘ccc’인 튜플을 찾으려고 한다.<ul><li>이번에는 INDEX(floor, title)을 사용한다.<li>floor가 1번 인자로 들어갔기 때문에 title 기준으로 먼저 정렬 후에 floor를 기준으로 정렬한다.</ul><li>중간값인 6번째 로우가 floor가 3으로 해당되지 않으므로 위의 애들은 모두 제외한다.<li>이번에는 중간값인 9번째 로우가 floor가 5이로 해당이 된다.<ul><li>그러나 title이 eee로 해당되지 않아 제외한다.<li>문자 정렬순으로 ‘ccc’가 ‘eee’보다 작기 때문에 아래 로우들은 전부 제외한다.</ul><li>그 다음 중간값인 8번째 로우도 floor가 5이지만, title이 ‘ccc’가 아니기 때문에 제외한다.<ul><li>8번째 로우의 title이 ‘ddd’로 ‘ccc’보다 뒤에 오기 때문에 더 위의 컬럼을 찾아본다.</ul><li>다음으로 7번째 로우가 floor도 5이고 title도 ‘ccc’로 조건에 만족한다.<li>더 위의 로우들은 이미 제외시켰기 때문에 검색이 종료된다.</ol><p><br /></p><ul><li>다중 컬럼 인덱스는 우선 순위가 높은 컬럼을 앞에다 기입해서 만들 수 있다.<ul><li>그 컬럼의 우선 순위에 따라 정렬 우선 순위도 높아지고, 조회에서도 가장 먼저 비교에 사용된다.</ul><li>또 위에서 살펴 봤듯이 조건을 사용하는 검색을 할 때 적절한 인덱스를 사용해야 효과를 볼 수 있다.</ul><p><br /></p><blockquote><ul><li>그럼 모든 컬럼과 모든 조건에 대해 인덱스를 만들면 좋지 않을까?<li>결론부터 말하면 오히려 성능에 안좋을 수 있다.<ul><li>저장 공간을 너무 많이 잡아먹는다.<li>저장 성능이 안좋아진다.<ul><li>테이블에 insert 할 때마다 해당되는 인덱스들에도 전부 데이터 저장 과정이 필요하다.<li>예를 들어 Book 테이블에 인덱스가 5개 만들어졌다고 하면,<li>Book 테이블에 하나의 로우를 저장하면 인덱스에도 한 번씩 총 6개의 저장 과정이 필요하다.</ul></ul><li>그러니 불필요한 인덱스를 쓸데없이 여러개 만들지 말자.</ul></blockquote><p><br /> <br /></p><h2 id="어떤-인덱스가-사용될까"><span class="mr-2">어떤 인덱스가 사용될까</span><a href="#어떤-인덱스가-사용될까" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>테이블마다 여러개의 인덱스가 존재할 수 있다.<li>그럼 내가 작성한 쿼리가 어떤 인덱스를 사용해서 검색을 할까?<li>EXPLAIN 문을 사용해서 알 수 있다.<ul><li>EXPLAIN [쿼리];</ul></ul><pre><code class="language-mysql">
EXPLAIN
SELECT * FROM BOOK WHERE floor = 2 AND title = 'ccc';

</code></pre><ul><li>이렇게 사용할 수 있다.</ul><p><img data-src="/assets/img/posting/db/index-05.png" alt="imd-description" data-proofer-ignore> <em>EXPLAIN 문 결과</em></p><ul><li>possible_keys는 해당 쿼리문이 사용할 수 있는 인덱스들을 알려주고<li><p>key는 실제로 사용하는 인덱스이다.</p><li>그럼 사용 가능한게 여러개 있다는 건데 저기서 하나 딱 고르는 건 어떻게 할까?<ul><li>디비의 Optimizer가 그 역할을 수행한다.<li>위의 예시에서는 데이터가 3개 밖에 없기 때문에 FLOOR_BOOK_CODE_INDEX 인덱스를 사용한다고 나온 거 같다.</ul></ul><h3 id="사용할-인덱스를-정해줄-수도-있다"><span class="mr-2">사용할 인덱스를 정해줄 수도 있다.</span><a href="#사용할-인덱스를-정해줄-수도-있다" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><pre><code class="language-mysql">
SELECT * FROM BOOK USE INDEX (floor_title_index) WHERE floor = 2 AND title = 'ccc';

</code></pre><ul><li>얘의 경우 USE INDEX(인덱스 이름)으로 살짝 인덱스를 사용하길 권유한다.<li>사용이 가능한 경우에는 쟤를 사용해서 쿼리를 작성한다.</ul><p><img data-src="/assets/img/posting/db/index-06.png" alt="imd-description" data-proofer-ignore> <em>USE INDEX EXPLAIN 문 결과</em></p><ul><li>내가 권유한 floor_title_index를 사용한 걸 볼 수 있다.</ul><p><br /></p><pre><code class="language-mysql">
SELECT * FROM BOOK FORCE INDEX (primary) WHERE floor = 2 AND title = 'ccc';

</code></pre><ul><li>강제로 얘를 사용해! 하는 방법도 있다.<li>USE INDEX 대신에 FORCE INDEX를 사용한다.</ul><p><img data-src="/assets/img/posting/db/index-07.png" alt="imd-description" data-proofer-ignore> <em>FORCE INDEX EXPLAIN 문 결과</em></p><ul><li>floor와 title의 조건 검색을 하는데, 내가 강요한 primary 인덱스를 사용하려 했으나<li>사용할 수 없기 때문에 아무런 인덱스도 사용하지 않은 걸 볼 수 있다.<li>이런 경우 그냥 테이블의 모든 로우를 full-scan 때린다.</ul><p><br /> <br /></p><h1 id="covering-index">Covering Index</h1><ul><li>INDEX(floor, title)가 존재한다고 할 때,</ul><pre><code class="language-mysql">
SELECT floor, title FROM BOOK WHERE floor = 2;

</code></pre><ul><li>이런 조회 쿼리를 날리면 당연히 위의 인덱스를 사용해 빠르게 조건을 검색할 수 있다.<li>게다가 이 경우는 select 절의 컬럼 floor와 title을 인덱스가 모두 가지고 있다.<ul><li>조회하는 모든 애트리뷰트를 인덱스가 전부 커버가 가능할 때<li>이런 인덱스를 Covering Index라고 한다.</ul><li>Covering Index의 경우에 검색된 결과를 다시 테이블에 보낼 필요 없이 바로 결과를 반환한다.<ul><li>이 때문에 조회 성능이 빠르다.<li>자주 쓰이는 컬럼들을 인덱스로 만들어주면 성능에 이점이 생긴다.</ul></ul><p><br /> <br /> <br /> <br /></p><h1 id="hash-index">Hash Index</h1><ul><li><p>해시 테이블을 사용하는 인덱스이다.</p><li>장<ul><li>조회가 매우 빠르다. (O(1))</ul><li>단<ul><li>해시 테이블이 꽉 차서 rehashing 해야하는 경우 오버헤드가 발생한다.<li>같은 값을 찾는 것은 매우 빠르지만, 범위 조회는 불가능하다.<li>멀티 컬럼 인덱스의 경우 사용성이 상대적으로 떨어진다.<ul><li>앞에서 살펴본 B-tree의 경우 INDEX(floor, title)는 floor만 조건 검색이 들어와도 사용이 가능했다.<li>해시 인덱스의 경우는 해시 테이블을 사용하기 때문에 전체 애트리뷰트(여기선 floor, title)에 대한 조회에만 사용이 가능하다.</ul></ul></ul><p><br /> <br /> <br /> <br /></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='//categories/cs/'>CS</a>, <a href='//categories/database/'>Database</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="//tags/cs/" class="post-tag no-text-decoration" >cs</a> <a href="//tags/database/" class="post-tag no-text-decoration" >database</a> <a href="//tags/index/" class="post-tag no-text-decoration" >index</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%EC%9D%B8%EB%8D%B1%EC%8A%A4+-+Bogeun&url=https%3A%2F%2Fidiot2222.github.io%2Fposts%2F%25EC%259D%25B8%25EB%258D%25B1%25EC%258A%25A4%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%EC%9D%B8%EB%8D%B1%EC%8A%A4+-+Bogeun&u=https%3A%2F%2Fidiot2222.github.io%2Fposts%2F%25EC%259D%25B8%25EB%258D%25B1%25EC%258A%25A4%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fidiot2222.github.io%2Fposts%2F%25EC%259D%25B8%25EB%258D%25B1%25EC%258A%25A4%2F&text=%EC%9D%B8%EB%8D%B1%EC%8A%A4+-+Bogeun" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/%EA%B8%B0%EA%B0%95_%EC%9E%90%EB%B0%94-02/">기강 자바-02</a><li><a href="/posts/%EA%B8%B0%EA%B0%95_%EC%9E%90%EB%B0%94-01/">기강 자바-01</a><li><a href="/posts/%EB%B9%84%EB%8F%99%EA%B8%B0_%EC%B2%98%EB%A6%AC/">비동기 처리</a><li><a href="/posts/%EC%8B%B1%EA%B8%80%ED%86%A4_%ED%8C%A8%ED%84%B4/">싱글톤 패턴</a><li><a href="/posts/%EC%8B%9C%ED%81%90%EB%A6%AC%ED%8B%B0_%EC%84%A4%EC%A0%95/">시큐리티 설정</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/cs/">cs</a> <a class="post-tag" href="/tags/network/">network</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/database/">database</a> <a class="post-tag" href="/tags/devops/">devops</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/security/">security</a> <a class="post-tag" href="/tags/spring-mvc/">spring-mvc</a> <a class="post-tag" href="/tags/spring-security/">spring-security</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/SQL_Injection/"><div class="card-body"> <em class="small" data-ts="1669819200" data-df="ll" > Nov 30, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>SQL Injection</h3><div class="text-muted small"><p> 출처: https://xkcd.com/327/ SQL Injection 클라이언트의 입력값에 SQL 코드를 넣어 디비를 조작하는 공격 기법이다. 이해를 위한 간단한 예시를 들어보면, 팀원들의 나이를 정리해둔 페이지가 있다고 한다. “팀장님은 “ + age + “세 입니다.” 여기서 ...</p></div></div></a></div><div class="card"> <a href="/posts/Join/"><div class="card-body"> <em class="small" data-ts="1670456400" data-df="ll" > Dec 8, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Join</h3><div class="text-muted small"><p> Join 조인이란 테이블 간의 논리적인 연관 관계를 기반으로 여러 테이블의 데이터를 한 번에 엑세스하는 데 사용되는 방법이다. 네 가지의 메인 조인 타입을 알아본다. Inner Join Outer Join Self Join Cross Join Inner Jo...</p></div></div></a></div><div class="card"> <a href="/posts/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC%EB%9E%80/"><div class="card-body"> <em class="small" data-ts="1663752360" data-df="ll" > Sep 21, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>네트워크란</h3><div class="text-muted small"><p> 네트워크란 노드들이 통신할 수 있도록 연결된 통신망이다. 멀리, 넓게 분산된 컴퓨터들을 통신망으로 연결한 것이다. 네트워크 내에서 여러 노드들은 다른 노드와의 연결된 길을 통해 데이터를 보내고 받는다. 노드 네트워크에 속한 컴퓨터나 통신 기기들을 말한다. 인터넷 우리가 앱이나 웹, 게임 등을 할 때 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="//posts/JPQL%EC%9D%B4%EB%9E%80/" class="btn btn-outline-primary" prompt="Older"><p>JPQL이란</p></a> <a href="//posts/JPQL_%EA%B8%B0%EB%B3%B8_%EB%AC%B8%EB%B2%95/" class="btn btn-outline-primary" prompt="Newer"><p>JPQL 기본 문법</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2024 <a href="https://github.com/username">idiot2222</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/cs/">cs</a> <a class="post-tag" href="/tags/network/">network</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/database/">database</a> <a class="post-tag" href="/tags/devops/">devops</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/os/">os</a> <a class="post-tag" href="/tags/security/">security</a> <a class="post-tag" href="/tags/spring-mvc/">spring-mvc</a> <a class="post-tag" href="/tags/spring-security/">spring-security</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
